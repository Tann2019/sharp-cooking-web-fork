import{d as w,u as C,f as V,g as M,r as c,o as S,h as R,i as U,c as u,e as t,t as B,w as r,v as d,F as m,j as g,a as p,s as I,k as N,b as k}from"./index.8ed86269.js";import{a as $}from"./recipe.6c369b61.js";const j={class:"mt-16 mx-4 dark:text-white"},z={class:"dark:text-white"},A=["src"],D=t("label",null,"Title",-1),H=t("label",null,"Score",-1),O=t("label",null,"Ingredients",-1),E={class:"flex my-3"},F=["onUpdate:modelValue"],J=["onClick"],L=k('<svg class="h-4 w-4 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="4" y1="7" x2="20" y2="7"></line><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>',1),P=[L],T=t("label",null,"Steps",-1),q={class:"flex my-3"},G=["onUpdate:modelValue"],K=["onClick"],Q=k('<svg class="h-4 w-4 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="4" y1="7" x2="20" y2="7"></line><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>',1),W=[Q],X=t("label",null,"Notes",-1),te=w({setup(Y){const v=C(),_=V(),h=M(()=>parseInt(_.params.id)),e=c({id:1,title:"",score:3,ingredients:[],steps:[],notes:""}),i=c(""),x=c([]);S(async()=>{v.menuOptions=[{svg:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />  <polyline points="17 21 17 13 7 13 7 21" />  <polyline points="7 3 7 8 15 8" />'}];const n=await R(h.value);if(n){e.value=n,v.title=n.title+" Edit";const l=await U(h.value);l.length>0&&(x.value=l,i.value=l[0].image)}});async function y(){const n=JSON.parse(JSON.stringify(e.value));await I(n),i.value&&await N(new $(n.id,i.value))}async function b(n){n&&n.length>0&&(i.value=await f(n[0]))}function f(n){return new Promise((l,s)=>{const a=new FileReader;a.readAsDataURL(n),a.onload=()=>l(a.result),a.onerror=o=>s(o)})}return(n,l)=>(p(),u("div",j,[t("span",z,B(e.value.title),1),t("button",{type:"button",onClick:y},"Save"),t("div",null,[t("img",{src:i.value,width:"320"},null,8,A),t("input",{type:"file",onChange:l[0]||(l[0]=s=>b(s.target.files)),accept:"image/*"},null,32)]),D,r(t("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=s=>e.value.title=s),class:"block p-2 rounded text-black"},null,512),[[d,e.value.title]]),H,r(t("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=s=>e.value.score=s),class:"block p-2 rounded text-black"},null,512),[[d,e.value.score,void 0,{number:!0}]]),O,t("button",{onClick:l[3]||(l[3]=s=>e.value.ingredients.push(""))},"Add"),(p(!0),u(m,null,g(e.value.ingredients,(s,a)=>(p(),u("div",E,[r(t("input",{type:"text",placeholder:"1 cup flour","onUpdate:modelValue":o=>e.value.ingredients[a]=o,class:"block p-2 rounded text-black"},null,8,F),[[d,e.value.ingredients[a]]]),t("button",{class:"ml-2",onClick:o=>e.value.ingredients.splice(a,1)},P,8,J)]))),256)),T,t("button",{onClick:l[4]||(l[4]=s=>e.value.steps.push(""))},"Add"),(p(!0),u(m,null,g(e.value.steps,(s,a)=>(p(),u("div",q,[r(t("input",{type:"text",placeholder:"Preheat oven to 350 F","onUpdate:modelValue":o=>e.value.steps[a]=o,class:"block p-2 rounded text-black"},null,8,G),[[d,e.value.steps[a]]]),t("button",{class:"ml-2",onClick:o=>e.value.steps.splice(a,1)},W,8,K)]))),256)),X,r(t("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=s=>e.value.notes=s),class:"block p-2 rounded text-black"},null,512),[[d,e.value.notes]])]))}});export{te as default};
