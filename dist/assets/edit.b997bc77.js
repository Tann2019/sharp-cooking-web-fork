var S=Object.defineProperty;var V=(u,o,i)=>o in u?S(u,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[o]=i;var k=(u,o,i)=>(V(u,typeof o!="symbol"?o+"":o,i),i);import{d as M,u as R,f as U,g as I,r as g,o as B,h as N,i as $,c,e as t,t as j,w as p,v,F as _,j as x,a as h,s as A,k as D,b as y}from"./index.d73c0053.js";class z{constructor(o,i){k(this,"id");this.recipeId=o,this.image=i}}const E={class:"mt-16 mx-4 dark:text-white"},F={class:"dark:text-white"},H=["src"],J=t("label",null,"Title",-1),L=t("label",null,"Score",-1),O=t("label",null,"Ingredients",-1),P={class:"flex my-3"},T=["onUpdate:modelValue"],q=["onClick"],G=y('<svg class="h-4 w-4 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="4" y1="7" x2="20" y2="7"></line><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>',1),K=[G],Q=t("label",null,"Steps",-1),W={class:"flex my-3"},X=["onUpdate:modelValue"],Y=["onClick"],Z=y('<svg class="h-4 w-4 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="4" y1="7" x2="20" y2="7"></line><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>',1),ee=[Z],te=t("label",null,"Notes",-1),ne=M({setup(u){const o=R(),i=U(),m=I(()=>parseInt(i.params.id)),e=g({id:1,title:"",score:3,ingredients:[],steps:[],notes:""}),d=g(""),b=g([]);B(async()=>{const l=await N(m.value);if(l){e.value=l,o.title=l.title+" Edit";const s=await $(m.value);s.length>0&&(b.value=s,d.value=s[0].image)}});async function w(){const l=JSON.parse(JSON.stringify(e.value));await A(l),d.value&&await D(new z(l.id,d.value))}async function f(l){l&&l.length>0&&(d.value=await C(l[0]))}function C(l){return new Promise((s,n)=>{const a=new FileReader;a.readAsDataURL(l),a.onload=()=>s(a.result),a.onerror=r=>n(r)})}return(l,s)=>(h(),c("div",E,[t("span",F,j(e.value.title),1),t("button",{type:"button",onClick:w},"Save"),t("div",null,[t("img",{src:d.value,width:"320"},null,8,H),t("input",{type:"file",onChange:s[0]||(s[0]=n=>f(n.target.files)),accept:"image/*"},null,32)]),J,p(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>e.value.title=n),class:"block p-2 rounded text-black"},null,512),[[v,e.value.title]]),L,p(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=n=>e.value.score=n),class:"block p-2 rounded text-black"},null,512),[[v,e.value.score,void 0,{number:!0}]]),O,t("button",{onClick:s[3]||(s[3]=n=>e.value.ingredients.push(""))},"Add"),(h(!0),c(_,null,x(e.value.ingredients,(n,a)=>(h(),c("div",P,[p(t("input",{type:"text",placeholder:"1 cup flour","onUpdate:modelValue":r=>e.value.ingredients[a]=r,class:"block p-2 rounded text-black"},null,8,T),[[v,e.value.ingredients[a]]]),t("button",{class:"ml-2",onClick:r=>e.value.ingredients.splice(a,1)},K,8,q)]))),256)),Q,t("button",{onClick:s[4]||(s[4]=n=>e.value.steps.push(""))},"Add"),(h(!0),c(_,null,x(e.value.steps,(n,a)=>(h(),c("div",W,[p(t("input",{type:"text",placeholder:"Preheat oven to 350 F","onUpdate:modelValue":r=>e.value.steps[a]=r,class:"block p-2 rounded text-black"},null,8,X),[[v,e.value.steps[a]]]),t("button",{class:"ml-2",onClick:r=>e.value.steps.splice(a,1)},ee,8,Y)]))),256)),te,p(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=n=>e.value.notes=n),class:"block p-2 rounded text-black"},null,512),[[v,e.value.notes]])]))}});export{ne as default};
